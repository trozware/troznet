<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Learning Swift - Generics :: TrozWare</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="One of the nice things about Swift is how clean your code looks. A lot of the weird characters that pepper the code of other languages has been eliminated: No more semi-colons, asterisks etc.
But then you are reading somebody else&#39;s code and you find these angle brackets all over the place and they don&#39;t seem to make sense.
What does this mean?
func mid&amp;lt;T: Comparable&amp;gt;(array: [T]) -&amp;gt; T It looks like it is a function to find the middle element in an array, but what is &amp;lt;T: Comparable&amp;gt; or [T] or even just T?"/>
<meta name="keywords" content="[Swift Apple macOS iOS Apple Watch]"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="https://troz.net/post/2016/learning-swift-generics/" />


<link rel="stylesheet" href="https://troz.net/assets/style.css">


<link rel="stylesheet" href="https://troz.net/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://troz.net/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="https://troz.net/img/favicon.png">


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="Learning Swift - Generics :: TrozWare — " />
<meta name="twitter:description" content="One of the nice things about Swift is how clean your code looks. A lot of the weird characters that pepper the code of other languages has been eliminated: No more semi-colons, asterisks etc.
But then you are reading somebody else&#39;s code and you find these angle brackets all over the place and they don&#39;t seem to make sense.
What does this mean?
func mid&amp;lt;T: Comparable&amp;gt;(array: [T]) -&amp;gt; T It looks like it is a function to find the middle element in an array, but what is &amp;lt;T: Comparable&amp;gt; or [T] or even just T?" />
<meta name="twitter:site" content="https://troz.net/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image" content="">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Learning Swift - Generics :: TrozWare — ">
<meta property="og:description" content="One of the nice things about Swift is how clean your code looks. A lot of the weird characters that pepper the code of other languages has been eliminated: No more semi-colons, asterisks etc.
But then you are reading somebody else&#39;s code and you find these angle brackets all over the place and they don&#39;t seem to make sense.
What does this mean?
func mid&amp;lt;T: Comparable&amp;gt;(array: [T]) -&amp;gt; T It looks like it is a function to find the middle element in an array, but what is &amp;lt;T: Comparable&amp;gt; or [T] or even just T?" />
<meta property="og:url" content="https://troz.net/post/2016/learning-swift-generics/" />
<meta property="og:site_name" content="Learning Swift - Generics" />
<meta property="og:image" content="">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2016-02-29 00:00:00 &#43;0000 UTC" />









</head>
<body class="dark-theme">
<div class="container">
  <header class="header">
  <span class="header__inner">
    <a href="https://troz.net/" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">TrozWare</span>
    <span class="logo__cursor" style="width: 2px"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/">Home</a></li>
        
      
        
          <li><a href="/apps/">Apps</a></li>
        
      
        
          <li><a href="/post/">Archives</a></li>
        
      
        
          <li><a href="/tags/">Tags</a></li>
        
      
        
          <li><a href="/contact/">Contact</a></li>
        
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/">Home</a></li>
      
    
      
        <li><a href="/apps/">Apps</a></li>
      
    
      
        <li><a href="/post/">Archives</a></li>
      
    
      
        <li><a href="/tags/">Tags</a></li>
      
    
      
        <li><a href="/contact/">Contact</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


  <div class="content">
    
<div class="post">
  <h2 class="post-title"><a href="https://troz.net/post/2016/learning-swift-generics/">Learning Swift - Generics</a></h2>
  <div class="post-meta">
    <span class="post-date">
      29 Feb 2016
    </span>
    <span class="more-meta"> 1035 words, </span>
    <span class="more-meta"> 5 minute read</span>
  </div>

  
  <span class="post-tags">
    
    #<a href="https://troz.net/tags/swift">swift</a>&nbsp;
    
    #<a href="https://troz.net/tags/learning-swift">learning swift</a>&nbsp;
    
  </span>
  

  

  <div class="post-content">
    <p>One of the nice things about Swift is how clean your code looks. A lot of the
weird characters that pepper the code of other languages has been eliminated: No
more semi-colons, asterisks etc.</p>
<p>But then you are reading somebody else's code and you find these angle brackets
all over the place and they don't seem to make sense.</p>
<p>What does this mean?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mid</span>&lt;T: Comparable&gt;(array: [T]) -&gt; T
</code></pre></div><p>It looks like it is a function to find the middle element in an array, but what
is <code>&lt;T: Comparable&gt;</code> or <code>[T]</code> or even just <code>T</code>? They are describing Generic data
types.</p>
<p>Using the dictionary, I find the following definition for <code>generic</code>:</p>
<blockquote>
<p>characteristic of or relating to a class or group of things; not specific.</p>
</blockquote>
<p>And that really provides quite a good definition for Swift's generics too. They
allow you to assign a non-specific data type to a function so that function can
be used for many different data types.</p>
<hr>
<p>But enough of the theory: by far the best way to understand generics is to
encounter the problem they are meant to solve and then to solve it.</p>
<p>The other day I was processing data to feed to a charting library. I ended up
with an array of CGFloats, but there were too many of them, so I wrote a
function to give me the last x elements of an array of CGFloats:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">endOf</span>(array: [CGFloat], numberOfElementsToInclude: Int) -&gt; [CGFloat] {
  <span style="color:#66d9ef">if</span> numberOfElementsToInclude <span style="color:#f92672">&gt;</span> array.count { <span style="color:#66d9ef">return</span> array }

  <span style="color:#66d9ef">let</span> startingElement = array.count <span style="color:#f92672">-</span> numberOfElementsToInclude
  <span style="color:#66d9ef">let</span> endOfArray = Array(array[startingElement ..<span style="color:#f92672">&lt;</span> array.count])
  <span style="color:#66d9ef">return</span> endOfArray
}

<span style="color:#66d9ef">let</span> largeArray: [CGFloat] = [<span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">3.0</span>, <span style="color:#ae81ff">4.0</span>, <span style="color:#ae81ff">5.0</span>, <span style="color:#ae81ff">6.0</span>, <span style="color:#ae81ff">7.0</span>, <span style="color:#ae81ff">8.0</span>, <span style="color:#ae81ff">9.0</span>, <span style="color:#ae81ff">10.0</span>]
<span style="color:#66d9ef">let</span> smallArray = endOf(array: largeArray, numberOfElementsToInclude: <span style="color:#ae81ff">3</span>)
<span style="color:#75715e">//</span><span style="color:#75715e">s</span><span style="color:#75715e">m</span><span style="color:#75715e">a</span><span style="color:#75715e">l</span><span style="color:#75715e">l</span><span style="color:#75715e">A</span><span style="color:#75715e">r</span><span style="color:#75715e">r</span><span style="color:#75715e">a</span><span style="color:#75715e">y</span><span style="color:#75715e"> </span><span style="color:#75715e">n</span><span style="color:#75715e">o</span><span style="color:#75715e">w</span><span style="color:#75715e"> </span><span style="color:#75715e">e</span><span style="color:#75715e">q</span><span style="color:#75715e">u</span><span style="color:#75715e">a</span><span style="color:#75715e">l</span><span style="color:#75715e">s</span><span style="color:#75715e"> </span><span style="color:#75715e">[</span><span style="color:#75715e">8</span><span style="color:#75715e">.</span><span style="color:#75715e">0</span><span style="color:#75715e">,</span><span style="color:#75715e"> </span><span style="color:#75715e">9</span><span style="color:#75715e">.</span><span style="color:#75715e">0</span><span style="color:#75715e">,</span><span style="color:#75715e"> </span><span style="color:#75715e">1</span><span style="color:#75715e">0</span><span style="color:#75715e">.</span><span style="color:#75715e">0</span><span style="color:#75715e">]</span>
</code></pre></div><p>OK, so <code>largeArray</code> isn't actually the largest array you have ever seen, but it
works for demo purposes. In my code, I had over 20,000 entries in the large
array and only wanted the last 5,000.</p>
<p>I was completely happy with that until I found another data source where the
data was an array of Ints. Still perfectly chartable using my charting library,
but I could not get the end of the array using my nice function. First thought
was to replicate the function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">endOf</span>(array: [Int], numberOfElementsToInclude: Int) -&gt; [Int] {
  <span style="color:#66d9ef">if</span> numberOfElementsToInclude <span style="color:#f92672">&gt;</span> array.count { <span style="color:#66d9ef">return</span> array }

  <span style="color:#66d9ef">let</span> startingElement = array.count <span style="color:#f92672">-</span> numberOfElementsToInclude
  <span style="color:#66d9ef">let</span> endOfArray = Array(array[startingElement ..<span style="color:#f92672">&lt;</span> array.count])
  <span style="color:#66d9ef">return</span> endOfArray
}

<span style="color:#66d9ef">let</span> largeArrayInt = [ <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span> ] <span style="color:#75715e">//</span><span style="color:#75715e"> </span><span style="color:#75715e">t</span><span style="color:#75715e">y</span><span style="color:#75715e">p</span><span style="color:#75715e">e</span><span style="color:#75715e"> </span><span style="color:#75715e">i</span><span style="color:#75715e">n</span><span style="color:#75715e">f</span><span style="color:#75715e">e</span><span style="color:#75715e">r</span><span style="color:#75715e">r</span><span style="color:#75715e">e</span><span style="color:#75715e">d</span><span style="color:#75715e"> </span><span style="color:#75715e">t</span><span style="color:#75715e">o</span><span style="color:#75715e"> </span><span style="color:#75715e">b</span><span style="color:#75715e">e</span><span style="color:#75715e"> </span><span style="color:#75715e">I</span><span style="color:#75715e">n</span><span style="color:#75715e">t</span>
<span style="color:#66d9ef">let</span> smallArrayInt = endOf(array: largeArrayInt, numberOfElementsToInclude: <span style="color:#ae81ff">7</span>)
<span style="color:#75715e">//</span><span style="color:#75715e"> </span><span style="color:#75715e">s</span><span style="color:#75715e">m</span><span style="color:#75715e">a</span><span style="color:#75715e">l</span><span style="color:#75715e">l</span><span style="color:#75715e">A</span><span style="color:#75715e">r</span><span style="color:#75715e">r</span><span style="color:#75715e">a</span><span style="color:#75715e">y</span><span style="color:#75715e">I</span><span style="color:#75715e">n</span><span style="color:#75715e">t</span><span style="color:#75715e"> </span><span style="color:#75715e">n</span><span style="color:#75715e">o</span><span style="color:#75715e">w</span><span style="color:#75715e"> </span><span style="color:#75715e">e</span><span style="color:#75715e">q</span><span style="color:#75715e">u</span><span style="color:#75715e">a</span><span style="color:#75715e">l</span><span style="color:#75715e">s</span><span style="color:#75715e"> </span><span style="color:#75715e">[</span><span style="color:#75715e">4</span><span style="color:#75715e">,</span><span style="color:#75715e"> </span><span style="color:#75715e">5</span><span style="color:#75715e">,</span><span style="color:#75715e"> </span><span style="color:#75715e">6</span><span style="color:#75715e">,</span><span style="color:#75715e"> </span><span style="color:#75715e">7</span><span style="color:#75715e">,</span><span style="color:#75715e"> </span><span style="color:#75715e">8</span><span style="color:#75715e">,</span><span style="color:#75715e"> </span><span style="color:#75715e">9</span><span style="color:#75715e">,</span><span style="color:#75715e"> </span><span style="color:#75715e">1</span><span style="color:#75715e">0</span><span style="color:#75715e">]</span>
</code></pre></div><p>A quick glance will reveal that the declaration line was the only thing that
changed. I didn't have to give the function a new name because the compiler
worked out which of the two functions to use based on the types supplied. So all
I was doing was replacing <code>CGFloat</code> with <code>Int</code> in two places (the
<code>numberOfElementsToInclude</code> parameter remains an <code>Int</code> in both cases).</p>
<p><strong>As soon as you find yourself replicating code and only changing the types of
the data, that is a sign that you need to use generics.</strong></p>
<p>For my first attempt at creating a generic function, all I did was replace the
word <code>CGFloat</code> with <code>T</code> where <code>T</code> indicates some type that will be specified
when the function is called. The convention is to use single letters for generic
types: <code>T</code> for Type, <code>A</code> for AnyObject, <code>Z</code> because you feel like it. The choice
is up to you.</p>
<p>That produced this error:</p>
<p><img src="/images/Generics_error.png" alt="Generics error"></p>
<p><code>Use of undeclared type 'T'</code>. Well that seems fair enough&hellip; how is the compiler
supposed to know what a <code>T</code> is?</p>
<p>It turns out that this is where the angle brackets come into play. You have to
warn the compiler that this function is going to get a generic type and that the
<code>T</code> is only a placeholder, not a real type. So this version compiles and works -
notice the <code>&lt;T&gt;</code> between the function name and the opening bracket:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">endOf</span>&lt;T&gt;(array: [T], numberOfElementsToInclude: Int) -&gt; [T] {
  <span style="color:#66d9ef">if</span> numberOfElementsToInclude <span style="color:#f92672">&gt;</span> array.count { <span style="color:#66d9ef">return</span> array }

  <span style="color:#66d9ef">let</span> startingElement = array.count <span style="color:#f92672">-</span> numberOfElementsToInclude
  <span style="color:#66d9ef">let</span> endOfArray = Array(array[startingElement ..<span style="color:#f92672">&lt;</span> array.count])
  <span style="color:#66d9ef">return</span> endOfArray
}
</code></pre></div><p>Now I have no code duplication and if I ever get another data set that uses a
different object type, my function will still work.</p>
<hr>
<p>Now we know to use generics instead of replicating code that operates in the
same way on different data types.</p>
<p>And we know how to construct a generic function.</p>
<p>Using it is identical to using the two functions I had before:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> largeArray: [CGFloat] = [ <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">3.0</span>, <span style="color:#ae81ff">4.0</span>, <span style="color:#ae81ff">5.0</span>,<span style="color:#ae81ff">6.0</span>, <span style="color:#ae81ff">7.0</span>, <span style="color:#ae81ff">8.0</span>, <span style="color:#ae81ff">9.0</span>, <span style="color:#ae81ff">10.0</span> ]
<span style="color:#66d9ef">let</span> smallArray = endOf(array: largeArray, numberOfElementsToInclude: <span style="color:#ae81ff">3</span>)

<span style="color:#66d9ef">let</span> largeArrayInt = [ <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span> ] <span style="color:#75715e">//</span><span style="color:#75715e"> </span><span style="color:#75715e">t</span><span style="color:#75715e">y</span><span style="color:#75715e">p</span><span style="color:#75715e">e</span><span style="color:#75715e"> </span><span style="color:#75715e">i</span><span style="color:#75715e">n</span><span style="color:#75715e">f</span><span style="color:#75715e">e</span><span style="color:#75715e">r</span><span style="color:#75715e">r</span><span style="color:#75715e">e</span><span style="color:#75715e">d</span><span style="color:#75715e"> </span><span style="color:#75715e">t</span><span style="color:#75715e">o</span><span style="color:#75715e"> </span><span style="color:#75715e">b</span><span style="color:#75715e">e</span><span style="color:#75715e"> </span><span style="color:#75715e">I</span><span style="color:#75715e">n</span><span style="color:#75715e">t</span>
<span style="color:#66d9ef">let</span> smallArrayInt = endOf(array: largeArrayInt, numberOfElementsToInclude: <span style="color:#ae81ff">7</span>)
</code></pre></div><p>You do not have to specify what <code>T</code> is when calling the function, that will be
inferred from the supplied data.</p>
<hr>
<p>Moving on into more advanced use cases, we have two things to consider:</p>
<ol>
<li>Functions where the generic parameters must conform to a protocol.</li>
<li>Functions that take generic parameters of different types.</li>
</ol>
<p>The example function I started with (not mine but I forget where I got it&hellip; If
it is yours, thanks you very much) used:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">mid</span> &lt;T: Comparable&gt; (array: [T]) -&gt; T
</code></pre></div><p>Instead of specifying the type as completely generic, it specified that it must
conform to the Comparable protocol. This is because the function body used a
<code>sort()</code> function so the generic function needed to be sure that the elements in
the array could be compared. This technique can also be used to restrict the
parameter types to sub-classes of a certain class.</p>
<p>For a function with more than one generic data type, you need to use more than
one placeholder letter:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">genericWithTwoDifferentTypes</span>&lt;T, U&gt;(param1: T, param2: U) -&gt; Bool {
  <span style="color:#75715e">//</span><span style="color:#75715e"> </span><span style="color:#75715e">.</span><span style="color:#75715e">.</span><span style="color:#75715e">.</span>
}
</code></pre></div><p>And in exactly the same way, both <code>T</code> and <code>U</code> can be set to conform to a
protocol or be members of a certain super-class.</p>
<hr>
<p>Hopefully this has taken some of the mystery out of generics, but if you have
any questions, please get in touch using the <a href="/contact/">Contact page</a>, comment below or
contact me via Twitter: <a href="https://twitter.com/trozware">@trozware</a>.</p>

  </div>
  
  <div class="pagination">
    <div class="pagination__title">
      <span class="pagination__title-h">Read other posts</span>
      <hr />
    </div>
    <div class="pagination__buttons">
      
      <a class="btn next" href="https://troz.net/post/2016/learning-swift-for-loops/">← Learning Swift - For-Loops</a>
      
      
      <a class="btn previous" href="https://troz.net/post/2016/singleton-to-protocol/">Singleton to Protocol →</a>
      
    </div>
  </div>
  
</div>

  </div>

  
    <link rel="stylesheet" href="/css/footer.css" />

<footer class="footer">
  <div class="footer__inner">
    <div class="social_footer">
      <a id="email-Link" class="mailtoui" href="mailto:sarah@troz.net"
        ><img src="/icons/envelope.svg"
      /></a>
      <a href="https://stackoverflow.com/users/1082632"
        ><img src="/icons/stack-overflow.svg"
      /></a>
      <a href="https://twitter.com/trozware"><img src="/icons/twitter.svg"/></a>
      <a href="https://github.com/trozware"><img src="/icons/github.svg"/></a>
      <a href="https://troz.net/index.xml"><img src="/icons/rss.svg"/></a>
      <a href="https://troz.net/feed.json"><img src="/icons/json.png"/></a>

      <a href="https://dev.to/trozware">
        <img src="https://d2fltix0v2e0sb.cloudfront.net/dev-badge.svg" 
        alt="TrozWare's DEV Profile" 
        style="height: 37px; margin-top: -3px" height="40" width="40">
      </a>
    </div>
  </div>

  <div class="footer__inner">
    <div class="copyright">
      
      <span>© 2012 - 2020 Sarah Reichelt</span>
      
      <span
        ><a href="http://gohugo.io">Hugo</a> theme created by
        <a href="https://twitter.com/panr">panr</a> 2018</span
      >
    </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


<script src="https://cdn.jsdelivr.net/npm/mailtoui@latest/dist/mailtoui-min.js"></script>


<script src="https://polyfill.io/v2/polyfill.min.js?features=IntersectionObserver"></script>
<script src="/quicklink.js"></script>

<script>
  window.addEventListener('load', () => {
    quicklink()
  })
</script>


  
</div>

</body>
</html>
