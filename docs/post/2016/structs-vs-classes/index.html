<!DOCTYPE html>
<html lang="en">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    
      <title>
        Structs vs Classes ::
        TrozWare
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="One of the big debates among Swift developers is when to use structs and when to use classes.
Classes are the building blocks of object-oriented programming but structs as provided by Swift are newly powerful. Structs have been around in C-based languages for a long time, but Swift has made them more powerful and given them more features so that they are almost indistinguishable from classes. So what are the differences and which one should you use?"
/>
<meta name="keywords" content="[Swift Apple macOS iOS Apple Watch]" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="http://localhost:1313/post/2016/structs-vs-classes/" />





 
<link rel="stylesheet" href="/css/style.css" />

<link rel="stylesheet" href="http://localhost:1313/style.css" />


<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
<link rel="manifest" href="/site.webmanifest" />
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
<meta name="msapplication-TileColor" content="#da532c" />
<meta name="theme-color" content="#ffffff" />


<link href="/fonts/Inter-Italic.woff2"
rel="preload" type="font/woff2" as="font" crossorigin=""> <link href="/fonts/Inter-Regular.woff2" rel="preload"
type="font/woff2" as="font" crossorigin=""> <link href="/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2"
as="font" crossorigin=""> <link href="/fonts/Inter-MediumItalic.woff2" rel="preload"
type="font/woff2" as="font" crossorigin=""> <link href="/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2"
as="font" crossorigin=""> <link href="/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2"
as="font" crossorigin="">


<meta property="og:url" content="http://localhost:1313/post/2016/structs-vs-classes/">
  <meta property="og:site_name" content="TrozWare">
  <meta property="og:title" content="Structs vs Classes">
  <meta property="og:description" content="One of the big debates among Swift developers is when to use structs and when to use classes.
Classes are the building blocks of object-oriented programming but structs as provided by Swift are newly powerful. Structs have been around in C-based languages for a long time, but Swift has made them more powerful and given them more features so that they are almost indistinguishable from classes. So what are the differences and which one should you use?">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="post">
    <meta property="article:published_time" content="2016-03-30T00:00:00+00:00">
    <meta property="article:modified_time" content="2018-01-03T19:53:00+10:00">
    <meta property="article:tag" content="Swift">
    <meta property="article:tag" content="Learning Swift">
    <meta property="article:tag" content="Oop">
    <meta property="article:tag" content="Class">
    <meta property="article:tag" content="Struct">






  </head>
  <body >
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="http://localhost:1313/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >TrozWare</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/">Home</a></li>
        
      
        
          <li><a href="/books/">Books</a></li>
        
      
        
          <li><a href="/apps/">Apps</a></li>
        
      
        
          <li><a href="/post/">Archives</a></li>
        
      
        
          <li><a href="/tags/">Tags</a></li>
        
      
        
          <li><a href="/contact/">Contact</a></li>
        
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/">Home</a></li>
      
    
      
        <li><a href="/books/">Books</a></li>
      
    
      
        <li><a href="/apps/">Apps</a></li>
      
    
      
        <li><a href="/post/">Archives</a></li>
      
    
      
        <li><a href="/tags/">Tags</a></li>
      
    
      
        <li><a href="/contact/">Contact</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        

<link rel="stylesheet" href="/css/header.css" />

<div class="post">
  <h2 class="post-title">
    <a href="http://localhost:1313/post/2016/structs-vs-classes/">Structs vs Classes</a>
  </h2>
  <div class="post-meta">
    <span class="post-date">
      03 Jan 2018
    </span>
    <span class="more-meta">- 917 words, </span>
    <span class="more-meta"> 5 minute read</span>
  </div>

  
  <span class="post-tags">
     #<a
      href="http://localhost:1313/tags/swift"
      >swift</a
    >&nbsp;  #<a
      href="http://localhost:1313/tags/learning-swift"
      >learning swift</a
    >&nbsp;  #<a
      href="http://localhost:1313/tags/oop"
      >oop</a
    >&nbsp;  #<a
      href="http://localhost:1313/tags/class"
      >class</a
    >&nbsp;  #<a
      href="http://localhost:1313/tags/struct"
      >struct</a
    >&nbsp; 
  </span>
   

  <div class="post-content"><p>One of the big debates among Swift developers is when to use <code>structs</code> and when
to use <code>classes</code>.</p>
<p>Classes are the building blocks of object-oriented programming
but structs as provided by Swift are newly powerful. Structs have been around in
C-based languages for a long time, but Swift has made them more powerful and
given them more features so that they are almost indistinguishable from classes.
So what are the differences and which one should you use?</p>
<hr>
<h2 id="where-they-are-the-same">
  Where they are the same?
  <a href="#where-they-are-the-same" class="h-anchor" aria-hidden="true">#</a>
</h2>
<ul>
<li>both can define initializers</li>
<li>both can define properties</li>
<li>both can define methods</li>
<li>both can conform to protocols</li>
</ul>
<h2 id="where-they-are-different">
  Where they are different?
  <a href="#where-they-are-different" class="h-anchor" aria-hidden="true">#</a>
</h2>
<ul>
<li>classes can inherit from other classes</li>
<li>structs cannot inherit from other structs</li>
<li>classes are reference types</li>
<li>structs are value types</li>
</ul>
<hr>
<p>The reference type vs value type difference is where things really get
interesting. Have a look at this example of a class with a single property:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">PersonClass</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> name: String
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">init</span>(name: String) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">self</span>.name = name
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> personA = PersonClass(name: <span style="color:#e6db74">&#34;Woody&#34;</span>)
</span></span><span style="display:flex;"><span>personA.name <span style="color:#75715e">// Woody</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> personB = personA
</span></span><span style="display:flex;"><span>personB.name = <span style="color:#e6db74">&#34;Buzz&#34;</span>
</span></span><span style="display:flex;"><span>personB.name <span style="color:#75715e">// Buzz</span>
</span></span></code></pre></div><p>That looks like standard stuff, but what do you think <code>personA</code>&rsquo;s name is now?
If you guessed &ldquo;Buzz&rdquo; then you win a prize! <em>(No, not a real prize - pat
yourself on the back.)</em></p>
<p>This is because when we created the <code>personB</code> variable and assigned <code>personA</code> to
it, we did not assign the <strong>VALUE</strong> of <code>personA</code>, we assigned a <strong>REFERENCE</strong> to
<code>personA</code> - actually the address in memory of <code>personA</code> rather than the data
inside.</p>
<p>So now we have two objects and they are both looking at the same spot in memory
for their data. This means that changing the name of <code>personB</code> changed the name
of <code>personA</code> as well.</p>
<p>Let&rsquo;s try the same thing with a struct:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">PersonStruct</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> name: String
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> personC = PersonStruct(name: <span style="color:#e6db74">&#34;Rex&#34;</span>)
</span></span><span style="display:flex;"><span>personC.name <span style="color:#75715e">// Rex</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> personD = personC
</span></span><span style="display:flex;"><span>personD.name = <span style="color:#e6db74">&#34;Hamm&#34;</span>
</span></span><span style="display:flex;"><span>personD.name <span style="color:#75715e">// Hamm</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>personC.name <span style="color:#75715e">// Rex</span>
</span></span></code></pre></div><p>This time, because we are using a struct, when we assign <code>personC</code> to the new
<code>personD</code> variable, we are actually making a copy of <code>personC</code> and setting the
values of <code>personD</code> to this new copy. So now we can change <code>personD</code> without
messing with <code>personC</code>.</p>
<p>Note that I did not have a define an <code>init</code> for the struct because it creates
one automatically. You can still add one yourself if you want to do anything
different, but you do not have to.</p>
<hr>
<p>At first glance, you may think that you should now use structs all the time to
avoid these unintended consequences, but it isn&rsquo;t quite as simple as that.
Sometimes a class is still the best thing to use.</p>
<p>The inheritance capabilities of classes can make your decision simple: if you
need to create a button and want to start by sub-classing UIButton or NSButton,
then your button must be a class, not a struct. This will apply to most user
interface objects.</p>
<p>Apple really wants us to use structs and in the Swift standard libraries, a very
high percentage of the objects are structs. But structs are especially well
suited to a certain subset of objects.</p>
<p>The best explanation that I have found of when to use a struct is the <a href="http://faq.sealedabstract.com/structs_or_classes/#an-alternative-hypothesis" target="_blank" >Jeff Trick</a>
. Reduced down, the rule is:</p>
<blockquote>
<p>If you can overload == to compare two instances of your object, use a struct.
<!-- raw HTML omitted --> If this doesn&rsquo;t make sense, use a class.</p>
</blockquote>
<p>So use structs for your things: Person, Shape, Brick, Cat. <!-- raw HTML omitted --> Use classes for
everything else.</p>
<p>I would add one caveat: don&rsquo;t fight the compiler. If using a struct is giving
lots of errors and warnings, change to a class.</p>
<hr>
<p>A logical consequence of this is that all structs should conform to the
<a href="http://swiftdoc.org/v2.2/protocol/Equatable/" target="_blank" >Equatable</a>
 protocol.</p>
<p>Extending <code>PersonStruct</code> to make it conform just requires a single function:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">extension</span> <span style="color:#a6e22e">PersonStruct</span>: Equatable {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">func</span> == (lhs: PersonStruct, rhs: PersonStruct) -&gt; Bool {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> lhs.name == rhs.name
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Since this struct only has one property, we can say that two instances of this
struct are equal if the names are equal.</p>
<p>Testing this, we can see:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> personC = PersonStruct(name: <span style="color:#e6db74">&#34;Rex&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> personD = personC
</span></span><span style="display:flex;"><span>personD.name = <span style="color:#e6db74">&#34;Hamm&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>personC == personD <span style="color:#75715e">// false</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">let</span> personE = PersonStruct(name: <span style="color:#e6db74">&#34;Rex&#34;</span>)
</span></span><span style="display:flex;"><span>personC == personE <span style="color:#75715e">// true</span>
</span></span><span style="display:flex;"><span>personC <span style="color:#f92672">!=</span> personE <span style="color:#75715e">// false</span>
</span></span></code></pre></div><p>Conveniently, providing an <code>==</code> function effectively gives us a <code>!=</code> function
for free as you can see from the last example.</p>
<hr>
<p>There is one final point I would like to make about struct and that concerns
mutating functions. Look at what happens if we include a function that changes
the <code>name</code> property in the struct:</p>
<p><img src="/images/mutating.png" alt="Mutating error"></p>
<p>Fix-it is very helpfully pointing out that the method needs to be marked as
<code>mutating</code> for this to work and is showing where this should go. Accepting the
suggestion will get rid of the error and then the name can be changed using this
method.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">PersonStruct</span>: Equatable {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">var</span> name: String
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">mutating</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">changeName</span>(to newName: String) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">!</span>newName.isEmpty {
</span></span><span style="display:flex;"><span>            name = newName
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> personC = PersonStruct(name: <span style="color:#e6db74">&#34;Woody&#34;</span>)
</span></span><span style="display:flex;"><span>personC.name <span style="color:#75715e">// Woody</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>personC.changeName(to: <span style="color:#e6db74">&#34;Sid&#34;</span>)
</span></span><span style="display:flex;"><span>personC.name <span style="color:#75715e">// Sid</span>
</span></span></code></pre></div><p>There is no problem about using <code>mutating</code> and it will not have the unintended
consequences of using classes. Despite the scary name, a mutating function
actually returns a new copy of the struct.</p>
<p>The problem arises if you have many nested structs and the mutating has to
spread through the list. So don&rsquo;t nest your structs - at least not more than two
deep!</p>
</div>
  
  <div class="pagination">
    <div class="pagination__title">
      <span class="pagination__title-h">Read other posts</span>
      <hr />
    </div>
    <div class="pagination__buttons">
      
      <a class="btn next" href="http://localhost:1313/post/2016/road-trip-apps/"
        >← Road Trip Apps</a
      >
       
      <a class="btn previous" href="http://localhost:1313/post/2016/learning-swift-optionals/"
        >Learning Swift - Optionals →</a
      >
      
    </div>
  </div>
  
</div>

      </div>

      
        <link rel="stylesheet" href="/css/footer.css" />

<footer class="footer">
  <div class="footer__inner">
    <div class="social_footer">
      <a
        id="email-Link"
        class="mailtoui"
        href="mailto:sarah@troz.net"
        aria-label="Email me"
        ><img src="/icons/envelope.svg" alt=""
      /></a>
      
      <a
        rel="me"
        href="https://mastodon.social/@troz"
        aria-label="Follow me on Mastodon"
        ><img src="/icons/mastodon.png" alt=""
      /></a>

      <a href="https://linktr.ee/trozware" aria-label="Check out all my links"
        ><img src="/icons/tree.svg" alt=""
      /></a>

      <a
        href="https://github.com/trozware"
        aria-label="Look at my code on Github"
        ><img src="/icons/github.svg" alt=""
      /></a>

      <a
        href="https://stackoverflow.com/users/1082632"
        aria-label="Check out my Stack Overflow profile"
        ><img src="/icons/stack-overflow.svg" alt=""
      /></a>

      <a href="https://troz.net/index.xml" aria-label="Subscribe to my RSS feed"
        ><img src="/icons/rss.svg" alt=""
      /></a>
      <a
        href="https://troz.net/feed.json"
        aria-label="Subscribe to my JSON feed"
        ><img src="/icons/json.png" alt=""
      /></a>

      <a href="https://dev.to/trozware" aria-label="Check out my DEV profile">
        <img
          src="/icons/dev-badge.svg"
          alt=""
          alt="TrozWare's DEV Profile"
          style="height: 37px; margin-top: -3px"
          height="40"
          width="40"
        />
      </a>

      <a
        href="https://ko-fi.com/H2H3BU7SI"
        target="_blank"
        aria-label="Buy me a coffee"
        ><img
          height="36"
          style="border: 0px; height: 36px; width: unset"
          src="https://cdn.ko-fi.com/cdn/kofi1.png?v=3"
          border="0"
          alt="Buy Me a Coffee at ko-fi.com"
      /></a>
    </div>
  </div>

  <div class="footer__inner">
    <div class="copyright">
      
      <span>© 2012 - 2024 Sarah Reichelt</span>
      
      <span
        ><a href="http://gohugo.io">Hugo</a> theme created by
        <a href="https://twitter.com/panr">panr</a> 2018</span
      >
    </div>
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


<script src="https://cdn.jsdelivr.net/npm/mailtoui@latest/dist/mailtoui-min.js"></script>



<script src="/quicklink.js"></script>

<script>
  window.addEventListener('load', () => {
    quicklink()
  })
</script>


      
    </div>
  </body>
</html>
